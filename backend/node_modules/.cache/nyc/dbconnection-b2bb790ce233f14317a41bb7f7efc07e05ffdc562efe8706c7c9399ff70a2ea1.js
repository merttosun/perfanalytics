function cov_x3k8epmt4(){var path="C:\\Users\\mertt\\perfanalytic\\perfanalytics\\backend\\dbconnection.js";var hash="f2747afad81569c97efe1d997cbc5104caf223db";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\mertt\\perfanalytic\\perfanalytics\\backend\\dbconnection.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:0},end:{line:2,column:27}},"2":{start:{line:5,column:2},end:{line:44,column:5}},"3":{start:{line:28,column:4},end:{line:42,column:9}},"4":{start:{line:35,column:8},end:{line:41,column:9}},"5":{start:{line:36,column:10},end:{line:36,column:46}},"6":{start:{line:37,column:10},end:{line:37,column:29}},"7":{start:{line:39,column:10},end:{line:39,column:51}},"8":{start:{line:40,column:10},end:{line:40,column:20}},"9":{start:{line:48,column:2},end:{line:48,column:31}},"10":{start:{line:51,column:0},end:{line:51,column:36}}},fnMap:{"0":{name:"connect",decl:{start:{line:4,column:9},end:{line:4,column:16}},loc:{start:{line:4,column:22},end:{line:45,column:1}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:5,column:21},end:{line:5,column:22}},loc:{start:{line:5,column:42},end:{line:44,column:3}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:34,column:12},end:{line:34,column:13}},loc:{start:{line:34,column:26},end:{line:42,column:7}},line:34},"3":{name:"close",decl:{start:{line:47,column:9},end:{line:47,column:14}},loc:{start:{line:47,column:17},end:{line:49,column:1}},line:47}},branchMap:{"0":{loc:{start:{line:35,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:35,column:8},end:{line:41,column:9}},{start:{line:35,column:8},end:{line:41,column:9}}],line:35}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f2747afad81569c97efe1d997cbc5104caf223db"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_x3k8epmt4=function(){return actualCoverage;};}return actualCoverage;}cov_x3k8epmt4();const mongoose=(cov_x3k8epmt4().s[0]++,require("mongoose"));cov_x3k8epmt4().s[1]++;require("dotenv").config();//config objesi alıp içinde path alabiliyor
function connect(URI){cov_x3k8epmt4().f[0]++;cov_x3k8epmt4().s[2]++;return new Promise((resolve,reject)=>{cov_x3k8epmt4().f[1]++;cov_x3k8epmt4().s[3]++;// if (process.env.ENV === "test") {
//   console.log("test env");
//   const Mockgoose = require("mockgoose").Mockgoose;
//   const mockgoose = new Mockgoose(mongoose);
//   mockgoose.prepareStorage().then(() => {
//     mongoose.connect
//       .connect(uri, {
//         useNewUrlParser: true,
//         useCreateIndex: true,
//         useUnifiedTopology: true,
//       })
//       .then((res, err) => {
//         if (err) {
//           console.log("db connection failed");
//           return reject(err);
//         } else {
//           console.log("connected db successfully");
//           resolve();
//         }
//       });
//   });
// } else {
mongoose.connect(URI,{useNewUrlParser:true,useCreateIndex:true,useUnifiedTopology:true}).then((res,err)=>{cov_x3k8epmt4().f[2]++;cov_x3k8epmt4().s[4]++;if(err){cov_x3k8epmt4().b[0][0]++;cov_x3k8epmt4().s[5]++;console.log("db connection failed");cov_x3k8epmt4().s[6]++;return reject(err);}else{cov_x3k8epmt4().b[0][1]++;cov_x3k8epmt4().s[7]++;console.log("connected db successfully");cov_x3k8epmt4().s[8]++;resolve();}});// }
});}function close(){cov_x3k8epmt4().f[3]++;cov_x3k8epmt4().s[9]++;return mongoose.disconnect();}cov_x3k8epmt4().s[10]++;module.exports={connect,close};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiY29ubmVjdGlvbi5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjb25maWciLCJjb25uZWN0IiwiVVJJIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VDcmVhdGVJbmRleCIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJyZXMiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY2xvc2UiLCJkaXNjb25uZWN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6InlpRUFlWTt5RkFmWixLQUFNQSxDQUFBQSxRQUFRLHlCQUFHQyxPQUFPLENBQUMsVUFBRCxDQUFWLENBQWQsQyx1QkFDQUEsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkMsTUFBbEIsR0FBNEI7QUFFNUIsUUFBU0MsQ0FBQUEsT0FBVCxDQUFpQkMsR0FBakIsQ0FBc0IsK0NBQ3BCLE1BQU8sSUFBSUMsQ0FBQUEsT0FBSixDQUFZLENBQUNDLE9BQUQsQ0FBVUMsTUFBVixHQUFxQiwrQ0FDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVAsUUFBUSxDQUNMRyxPQURILENBQ1dDLEdBRFgsQ0FDZ0IsQ0FDWkksZUFBZSxDQUFFLElBREwsQ0FFWkMsY0FBYyxDQUFFLElBRkosQ0FHWkMsa0JBQWtCLENBQUUsSUFIUixDQURoQixFQU1HQyxJQU5ILENBTVEsQ0FBQ0MsR0FBRCxDQUFNQyxHQUFOLEdBQWMsK0NBQ2xCLEdBQUlBLEdBQUosQ0FBUyxrREFDUEMsT0FBTyxDQUFDQyxHQUFSLENBQVksc0JBQVosRUFETyx1QkFFUCxNQUFPUixDQUFBQSxNQUFNLENBQUNNLEdBQUQsQ0FBYixDQUNELENBSEQsSUFHTyxrREFDTEMsT0FBTyxDQUFDQyxHQUFSLENBQVksMkJBQVosRUFESyx1QkFFTFQsT0FBTyxHQUNSLENBQ0YsQ0FkSCxFQWVBO0FBQ0QsQ0F2Q00sQ0FBUCxDQXdDRCxDQUVELFFBQVNVLENBQUFBLEtBQVQsRUFBaUIsK0NBQ2YsTUFBT2hCLENBQUFBLFFBQVEsQ0FBQ2lCLFVBQVQsRUFBUCxDQUNELEMsd0JBRURDLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQixDQUFFaEIsT0FBRixDQUFXYSxLQUFYLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7IC8vY29uZmlnIG9iamVzaSBhbMSxcCBpw6dpbmRlIHBhdGggYWxhYmlsaXlvclxyXG5cclxuZnVuY3Rpb24gY29ubmVjdChVUkkpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgLy8gaWYgKHByb2Nlc3MuZW52LkVOViA9PT0gXCJ0ZXN0XCIpIHtcclxuICAgIC8vICAgY29uc29sZS5sb2coXCJ0ZXN0IGVudlwiKTtcclxuICAgIC8vICAgY29uc3QgTW9ja2dvb3NlID0gcmVxdWlyZShcIm1vY2tnb29zZVwiKS5Nb2NrZ29vc2U7XHJcbiAgICAvLyAgIGNvbnN0IG1vY2tnb29zZSA9IG5ldyBNb2NrZ29vc2UobW9uZ29vc2UpO1xyXG4gICAgLy8gICBtb2NrZ29vc2UucHJlcGFyZVN0b3JhZ2UoKS50aGVuKCgpID0+IHtcclxuICAgIC8vICAgICBtb25nb29zZS5jb25uZWN0XHJcbiAgICAvLyAgICAgICAuY29ubmVjdCh1cmksIHtcclxuICAgIC8vICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcclxuICAgIC8vICAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxyXG4gICAgLy8gICAgICAgfSlcclxuICAgIC8vICAgICAgIC50aGVuKChyZXMsIGVycikgPT4ge1xyXG4gICAgLy8gICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCJkYiBjb25uZWN0aW9uIGZhaWxlZFwiKTtcclxuICAgIC8vICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XHJcbiAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWQgZGIgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgLy8gICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgfSk7XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIG1vbmdvb3NlXHJcbiAgICAgIC5jb25uZWN0KFVSSSwge1xyXG4gICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgICAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcclxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMsIGVycikgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGIgY29ubmVjdGlvbiBmYWlsZWRcIik7XHJcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29ubmVjdGVkIGRiIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZSgpIHtcclxuICByZXR1cm4gbW9uZ29vc2UuZGlzY29ubmVjdCgpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgY29ubmVjdCwgY2xvc2UgfTtcclxuIl19