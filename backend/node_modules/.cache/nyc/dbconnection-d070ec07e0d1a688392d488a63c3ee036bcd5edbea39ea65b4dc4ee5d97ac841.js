function cov_x3k8epmt4(){var path="C:\\Users\\mertt\\perfanalytic\\perfanalytics\\backend\\dbconnection.js";var hash="1e94a9d075990729362f7a9e789d7b126f23af88";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\mertt\\perfanalytic\\perfanalytics\\backend\\dbconnection.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:36}},"1":{start:{line:2,column:0},end:{line:2,column:27}},"2":{start:{line:3,column:12},end:{line:3,column:33}},"3":{start:{line:6,column:2},end:{line:45,column:5}},"4":{start:{line:29,column:4},end:{line:43,column:9}},"5":{start:{line:36,column:8},end:{line:42,column:9}},"6":{start:{line:37,column:10},end:{line:37,column:46}},"7":{start:{line:38,column:10},end:{line:38,column:29}},"8":{start:{line:40,column:10},end:{line:40,column:51}},"9":{start:{line:41,column:10},end:{line:41,column:20}},"10":{start:{line:49,column:2},end:{line:49,column:31}},"11":{start:{line:52,column:0},end:{line:52,column:36}}},fnMap:{"0":{name:"connect",decl:{start:{line:5,column:9},end:{line:5,column:16}},loc:{start:{line:5,column:19},end:{line:46,column:1}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:21},end:{line:6,column:22}},loc:{start:{line:6,column:42},end:{line:45,column:3}},line:6},"2":{name:"(anonymous_2)",decl:{start:{line:35,column:12},end:{line:35,column:13}},loc:{start:{line:35,column:26},end:{line:43,column:7}},line:35},"3":{name:"close",decl:{start:{line:48,column:9},end:{line:48,column:14}},loc:{start:{line:48,column:17},end:{line:50,column:1}},line:48}},branchMap:{"0":{loc:{start:{line:36,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:42,column:9}},{start:{line:36,column:8},end:{line:42,column:9}}],line:36}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"1e94a9d075990729362f7a9e789d7b126f23af88"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_x3k8epmt4=function(){return actualCoverage;};}return actualCoverage;}cov_x3k8epmt4();const mongoose=(cov_x3k8epmt4().s[0]++,require("mongoose"));cov_x3k8epmt4().s[1]++;require("dotenv").config();//config objesi alıp içinde path alabiliyor
const uri=(cov_x3k8epmt4().s[2]++,process.env.ATLAS_URI);function connect(){cov_x3k8epmt4().f[0]++;cov_x3k8epmt4().s[3]++;return new Promise((resolve,reject)=>{cov_x3k8epmt4().f[1]++;cov_x3k8epmt4().s[4]++;// if (process.env.ENV === "test") {
//   console.log("test env");
//   const Mockgoose = require("mockgoose").Mockgoose;
//   const mockgoose = new Mockgoose(mongoose);
//   mockgoose.prepareStorage().then(() => {
//     mongoose.connect
//       .connect(uri, {
//         useNewUrlParser: true,
//         useCreateIndex: true,
//         useUnifiedTopology: true,
//       })
//       .then((res, err) => {
//         if (err) {
//           console.log("db connection failed");
//           return reject(err);
//         } else {
//           console.log("connected db successfully");
//           resolve();
//         }
//       });
//   });
// } else {
mongoose.connect(uri,{useNewUrlParser:true,useCreateIndex:true,useUnifiedTopology:true}).then((res,err)=>{cov_x3k8epmt4().f[2]++;cov_x3k8epmt4().s[5]++;if(err){cov_x3k8epmt4().b[0][0]++;cov_x3k8epmt4().s[6]++;console.log("db connection failed");cov_x3k8epmt4().s[7]++;return reject(err);}else{cov_x3k8epmt4().b[0][1]++;cov_x3k8epmt4().s[8]++;console.log("connected db successfully");cov_x3k8epmt4().s[9]++;resolve();}});// }
});}function close(){cov_x3k8epmt4().f[3]++;cov_x3k8epmt4().s[10]++;return mongoose.disconnect();}cov_x3k8epmt4().s[11]++;module.exports={connect,close};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiY29ubmVjdGlvbi5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjb25maWciLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiQVRMQVNfVVJJIiwiY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlQ3JlYXRlSW5kZXgiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwicmVzIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImNsb3NlIiwiZGlzY29ubmVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJ1bUVBZVk7eUZBZlosS0FBTUEsQ0FBQUEsUUFBUSx5QkFBR0MsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLEMsdUJBQ0FBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCLEdBQTRCO0FBQzVCLEtBQU1DLENBQUFBLEdBQUcseUJBQUdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUFmLENBQVQsQ0FFQSxRQUFTQyxDQUFBQSxPQUFULEVBQW1CLCtDQUNqQixNQUFPLElBQUlDLENBQUFBLE9BQUosQ0FBWSxDQUFDQyxPQUFELENBQVVDLE1BQVYsR0FBcUIsK0NBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FWLFFBQVEsQ0FDTE8sT0FESCxDQUNXSixHQURYLENBQ2dCLENBQ1pRLGVBQWUsQ0FBRSxJQURMLENBRVpDLGNBQWMsQ0FBRSxJQUZKLENBR1pDLGtCQUFrQixDQUFFLElBSFIsQ0FEaEIsRUFNR0MsSUFOSCxDQU1RLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLCtDQUNsQixHQUFJQSxHQUFKLENBQVMsa0RBQ1BDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLEVBRE8sdUJBRVAsTUFBT1IsQ0FBQUEsTUFBTSxDQUFDTSxHQUFELENBQWIsQ0FDRCxDQUhELElBR08sa0RBQ0xDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBREssdUJBRUxULE9BQU8sR0FDUixDQUNGLENBZEgsRUFlQTtBQUNELENBdkNNLENBQVAsQ0F3Q0QsQ0FFRCxRQUFTVSxDQUFBQSxLQUFULEVBQWlCLGdEQUNmLE1BQU9uQixDQUFBQSxRQUFRLENBQUNvQixVQUFULEVBQVAsQ0FDRCxDLHdCQUVEQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsQ0FBRWYsT0FBRixDQUFXWSxLQUFYLENBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XHJcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7IC8vY29uZmlnIG9iamVzaSBhbMSxcCBpw6dpbmRlIHBhdGggYWxhYmlsaXlvclxyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5BVExBU19VUkk7XHJcblxyXG5mdW5jdGlvbiBjb25uZWN0KCkge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAvLyBpZiAocHJvY2Vzcy5lbnYuRU5WID09PSBcInRlc3RcIikge1xyXG4gICAgLy8gICBjb25zb2xlLmxvZyhcInRlc3QgZW52XCIpO1xyXG4gICAgLy8gICBjb25zdCBNb2NrZ29vc2UgPSByZXF1aXJlKFwibW9ja2dvb3NlXCIpLk1vY2tnb29zZTtcclxuICAgIC8vICAgY29uc3QgbW9ja2dvb3NlID0gbmV3IE1vY2tnb29zZShtb25nb29zZSk7XHJcbiAgICAvLyAgIG1vY2tnb29zZS5wcmVwYXJlU3RvcmFnZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgLy8gICAgIG1vbmdvb3NlLmNvbm5lY3RcclxuICAgIC8vICAgICAgIC5jb25uZWN0KHVyaSwge1xyXG4gICAgLy8gICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcbiAgICAvLyAgICAgICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxyXG4gICAgLy8gICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICAvLyAgICAgICB9KVxyXG4gICAgLy8gICAgICAgLnRoZW4oKHJlcywgZXJyKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGlmIChlcnIpIHtcclxuICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhcImRiIGNvbm5lY3Rpb24gZmFpbGVkXCIpO1xyXG4gICAgLy8gICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbm5lY3RlZCBkYiBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAvLyAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgICB9KTtcclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgbW9uZ29vc2VcclxuICAgICAgLmNvbm5lY3QodXJpLCB7XHJcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxyXG4gICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlcywgZXJyKSA9PiB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJkYiBjb25uZWN0aW9uIGZhaWxlZFwiKTtcclxuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWQgZGIgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlKCkge1xyXG4gIHJldHVybiBtb25nb29zZS5kaXNjb25uZWN0KCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyBjb25uZWN0LCBjbG9zZSB9O1xyXG4iXX0=